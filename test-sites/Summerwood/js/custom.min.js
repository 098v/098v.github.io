0==WEBGL.isWebGLAvailable()&&document.body.appendChild(WEBGL.getWebGLErrorMessage());var scene=new THREE.Scene;scene.background=(new THREE.Color).setHSL(.6,0,1);scene.fog=new THREE.Fog(scene.background,1,5E3);var camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,1E4);camera.position.x=85;camera.position.y=60;camera.position.z=200;var renderer=new THREE.WebGLRenderer({antialias:!0});renderer.setPixelRatio(window.devicePixelRatio);renderer.setSize(window.innerWidth,window.innerHeight);
renderer.gammaInput=!0;renderer.gammaOutput=!0;renderer.shadowMap.enabled=!0;renderer.shadowMap.type=THREE.PCFSoftShadowMap;renderer.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(renderer.domElement);var controls=new THREE.OrbitControls(camera,renderer.domElement);controls.minDistance=50;controls.maxDistance=1E3;controls.autoRotate=!0;controls.autoRotateSpeed=1.1258;controls.enableKeys=!1;hemiLight=new THREE.HemisphereLight(16777215,16777215,.6);
hemiLight.color.setHSL(.6,1,.6);hemiLight.groundColor.setHSL(.095,1,.75);hemiLight.position.set(0,50,0);scene.add(hemiLight);hemiLightHelper=new THREE.HemisphereLightHelper(hemiLight,10);scene.add(hemiLightHelper);dirLight=new THREE.DirectionalLight(16777215,1);dirLight.color.setHSL(.1,1,.95);dirLight.position.set(-7,7,7);dirLight.position.multiplyScalar(30);scene.add(dirLight);dirLight.castShadow=!0;dirLight.shadow.mapSize.width=2048;dirLight.shadow.mapSize.height=2048;var d=90;
dirLight.shadow.camera.left=-d;dirLight.shadow.camera.right=d;dirLight.shadow.camera.top=d;dirLight.shadow.camera.bottom=-d;dirLight.shadow.camera.far=3500;dirLight.shadow.bias=-1E-4;dirLightHeper=new THREE.DirectionalLightHelper(dirLight,10);scene.add(dirLightHeper);var groundGeo=new THREE.PlaneBufferGeometry(1E4,1E4),groundMat=new THREE.MeshPhongMaterial({color:16777215,specular:328965});groundMat.color.setHSL(.095,1,.75);var ground=new THREE.Mesh(groundGeo,groundMat);
ground.rotation.x=-Math.PI/2;ground.position.y=-55;scene.add(ground);ground.material.side=THREE.DoubleSide;ground.receiveShadow=!0;var vertexShader=document.getElementById("vertexShader").textContent,fragmentShader=document.getElementById("fragmentShader").textContent,uniforms={topColor:{value:new THREE.Color(30719)},bottomColor:{value:new THREE.Color(15724527)},offset:{value:33},exponent:{value:.4}};uniforms.topColor.value.copy(hemiLight.color);scene.fog.color.copy(uniforms.bottomColor.value);
var skyGeo=new THREE.SphereBufferGeometry(4E3,32,15),skyMat=new THREE.ShaderMaterial({vertexShader:vertexShader,fragmentShader:fragmentShader,uniforms:uniforms,side:THREE.BackSide}),sky=new THREE.Mesh(skyGeo,skyMat);scene.add(sky);var parent=new THREE.Group,parent2=new THREE.Group;parent2.rotation.y=Math.PI/2;scene.add(parent);scene.add(parent2);var onProgress=function(b){b.lengthComputable&&console.log(Math.round(b.loaded/b.total*100,2)+"% downloaded")},onError=function(){};
THREE.Loader.Handlers.add(/\.dds$/i,new THREE.DDSLoader);(new THREE.MTLLoader).setPath("model/wall/").load("3ftx7.875ft.mtl",function(b){b.preload();(new THREE.OBJLoader).setMaterials(b).setPath("model/wall/").load("3ftx7.875ft.obj",function(a){parent.add(a);a.receiveShadow=!0;a.traverse(function(a){a.castShadow=!0})},onProgress,onError)});
(new THREE.MTLLoader).setPath("model/wall/").load("3ftx7.875ft.mtl",function(b){b.preload();(new THREE.OBJLoader).setMaterials(b).setPath("model/wall/").load("3ftx7.875ft.obj",function(a){a.position.x=35;parent.add(a);a.receiveShadow=!0;a.traverse(function(a){a.castShadow=!0})},onProgress,onError)});
(new THREE.MTLLoader).setPath("model/wall/").load("3ftx7.875ft.mtl",function(b){b.preload();(new THREE.OBJLoader).setMaterials(b).setPath("model/wall/").load("3ftx7.875ft.obj",function(a){a.position.x=-35;a.receiveShadow=!0;a.traverse(function(a){a.castShadow=!0});parent.add(a)},onProgress,onError)});
(new THREE.MTLLoader).setPath("model/roof/").load("Dune.mtl",function(b){b.preload();(new THREE.OBJLoader).setMaterials(b).setPath("model/roof/").load("Dune.obj",function(a){a.position.y=50;a.receiveShadow=!0;a.traverse(function(a){a.castShadow=!0});parent.add(a)},onProgress,onError)});
(new THREE.MTLLoader).setPath("model/wall/").load("3ftx7.875ft.mtl",function(b){b.preload();(new THREE.OBJLoader).setMaterials(b).setPath("model/wall/").load("3ftx7.875ft.obj",function(a){parent2.add(a);a.receiveShadow=!0;a.traverse(function(a){a.castShadow=!0})},onProgress,onError)});
(new THREE.MTLLoader).setPath("model/wall/").load("3ftx7.875ft.mtl",function(b){b.preload();(new THREE.OBJLoader).setMaterials(b).setPath("model/wall/").load("3ftx7.875ft.obj",function(a){a.position.x=35;parent2.add(a);a.receiveShadow=!0;a.traverse(function(a){a.castShadow=!0})},onProgress,onError)});
(new THREE.MTLLoader).setPath("model/wall/").load("3ftx7.875ft.mtl",function(b){b.preload();(new THREE.OBJLoader).setMaterials(b).setPath("model/wall/").load("3ftx7.875ft.obj",function(a){a.position.x=-35;a.receiveShadow=!0;a.traverse(function(a){a.castShadow=!0});parent2.add(a)},onProgress,onError)});
(new THREE.MTLLoader).setPath("model/roof/").load("Dune.mtl",function(b){b.preload();(new THREE.OBJLoader).setMaterials(b).setPath("model/roof/").load("Dune.obj",function(a){a.position.y=50;a.receiveShadow=!0;a.traverse(function(a){a.castShadow=!0});parent2.add(a)},onProgress,onError)});var shader=THREE.ShaderChunk.shadowmap_pars_fragment;shader=shader.replace("#ifdef USE_SHADOWMAP","#ifdef USE_SHADOWMAP"+document.getElementById("PCSS").textContent);
shader=shader.replace("#if defined( SHADOWMAP_TYPE_PCF )",document.getElementById("PCSSGetShadow").textContent+"#if defined( SHADOWMAP_TYPE_PCF )");THREE.ShaderChunk.shadowmap_pars_fragment=shader;controller=new function(){parent2.visible=!1;controls.autoRotate=!0};var gui=new dat.GUI;f1=gui.addFolder("Auto Rotate");q=f1.add(controls,"autoRotate").listen().onChange(function(){autoRotate=controls.autoRotate});f1.open();var floorFol=gui.addFolder("Show/Hide Shed 1 Test");floorFol.add(parent,"visible");
floorFol.open();floorFol=gui.addFolder("Show/Hide Shed 2 Test");floorFol.add(parent2,"visible");gui.close();var customContainer=document.getElementById("guiContainer");customContainer.appendChild(gui.domElement);camera.lookAt(parent);window.addEventListener("resize",onWindowResize,!1);function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight;camera.updateProjectionMatrix();renderer.setSize(window.innerWidth,window.innerHeight)}
var animate=function(){requestAnimationFrame(animate);renderer.autoClear=!1;renderer.clear();renderer.render(scene,camera);controls.update()};animate();